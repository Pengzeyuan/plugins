{"swagger":"2.0","info":{"title":"Security Example API","description":"This API demonstrates the use of the goa security plugin","version":""},"host":"localhost:8080","paths":{"/secure":{"get":{"tags":["secured_service"],"summary":"secure secured_service","description":"This action is secured with the jwt scheme\n\nRequired security scopes:\n  * `api:read`","operationId":"secured_service#secure","parameters":[{"name":"fail","in":"query","description":"Whether to force auth failure even with a valid JWT","required":false,"type":"boolean"}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}},"403":{"description":"Forbidden response.","schema":{"$ref":"#/definitions/SecureForbiddenResponseBody"}}},"schemes":["http"],"security":[{"jwt":[]}]},"put":{"tags":["secured_service"],"summary":"doubly_secure secured_service","description":"This action is secured with the jwt scheme and also requires an API key query string.\n\nRequired security scopes:\n  * `api:read`\n  * `api:write`","operationId":"secured_service#doubly_secure","parameters":[{"name":"k","in":"query","description":"API key","required":false,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/DoublySecureUnauthorizedResponseBody"}}},"schemes":["http"],"security":[{"api_key":[],"jwt":[]}]},"post":{"tags":["secured_service"],"summary":"also_doubly_secure secured_service","description":"This action is secured with the jwt scheme and also requires an API key header.\n\nRequired security scopes:\n  * `api:read`\n  * `api:write`","operationId":"secured_service#also_doubly_secure","parameters":[{"name":"k","in":"query","description":"API key","required":false,"type":"string"},{"name":"oauth","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/AlsoDoublySecureUnauthorizedResponseBody"}}},"schemes":["http"],"security":[{"api_key":[],"jwt":[]},{"basic":[],"oauth2":["api:read","api:write"]}]}},"/signin":{"post":{"tags":["secured_service"],"summary":"signin secured_service","description":"Creates a valid JWT","operationId":"secured_service#signin","responses":{"204":{"description":"No Content response."},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/SigninBadRequestResponseBody"}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/SigninUnauthorizedResponseBody"}}},"schemes":["http"],"security":[{"basic":[]}]}}},"definitions":{"AlsoDoublySecureUnauthorizedResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":false}},"description":"AlsoDoublySecureUnauthorizedResponseBody result type (default view)","example":{"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":false},"required":["name","id","message","temporary","timeout"]},"DoublySecureUnauthorizedResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"DoublySecureUnauthorizedResponseBody result type (default view)","example":{"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":false},"required":["name","id","message","temporary","timeout"]},"SecureForbiddenResponseBody":{"title":"SecureForbiddenResponseBody","type":"string","description":"Authentication failed","example":"Voluptatem alias."},"SigninBadRequestResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"SigninBadRequestResponseBody result type (default view)","example":{"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":true},"required":["name","id","message","temporary","timeout"]},"SigninUnauthorizedResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"id":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"name":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"temporary":{"type":"boolean","description":"Is the error temporary?","example":true},"timeout":{"type":"boolean","description":"Is the error a timeout?","example":true}},"description":"SigninUnauthorizedResponseBody result type (default view)","example":{"id":"123abc","message":"parameter 'p' must be an integer","name":"bad_request","temporary":true,"timeout":true},"required":["name","id","message","temporary","timeout"]}},"securityDefinitions":{"api_key":{"type":"apiKey","description":"Secures endpoint by requiring an API key.","name":"k","in":"query"},"basic":{"type":"basic","description":"Basic authentication used to authenticate security principal during signin"},"jwt":{"type":"apiKey","description":"Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".\n**Security Scopes**:\n  * `api:read`: Read-only access\n  * `api:write`: Read and write access","name":"Authorization","in":"header"},"oauth2":{"type":"oauth2","description":"Secures endpoint by requiring a valid OAuth2 token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".","flow":"accessCode","authorizationUrl":"http://localhost:8080/authorization","tokenUrl":"http://localhost:8080/token","scopes":{"api:read":"Read-only access","api:write":"Read and write access"}}},"externalDocs":{"description":"Security example README","url":"https://github.com/goadesign/plugins/security/tree/master/example/multi_auth/README.md"}}