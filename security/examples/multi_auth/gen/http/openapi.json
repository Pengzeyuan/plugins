{"swagger":"2.0","info":{"title":"Security Example API","description":"This API demonstrates the use of the goa security plugin","version":""},"host":"localhost:8080","paths":{"/secure":{"get":{"tags":["secured_service"],"summary":"secure secured_service","description":"This action is secured with the jwt scheme","operationId":"secured_service#secure","parameters":[{"name":"fail","in":"query","description":"Whether to force auth failure even with a valid JWT","required":false,"type":"boolean"},{"name":"SecureRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SecureRequestBody"}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}}},"schemes":["http"]},"put":{"tags":["secured_service"],"summary":"doubly_secure secured_service","description":"This action is secured with the jwt scheme and also requires an API key query string.","operationId":"secured_service#doubly_secure","parameters":[{"name":"k","in":"query","description":"API key","required":false,"type":"string"},{"name":"DoublySecureRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/DoublySecureRequestBody"}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}}},"schemes":["http"]},"post":{"tags":["secured_service"],"summary":"also_doubly_secure secured_service","description":"This action is secured with the jwt scheme and also requires an API key header.","operationId":"secured_service#also_doubly_secure","parameters":[{"name":"AlsoDoublySecureRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/AlsoDoublySecureRequestBody"}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}}},"schemes":["http"]}},"/signin":{"post":{"tags":["secured_service"],"summary":"signin secured_service","description":"Creates a valid JWT","operationId":"secured_service#signin","parameters":[{"name":"SigninRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/SigninRequestBody"}}],"responses":{"204":{"description":"No Content response.","headers":{"Authorization":{"description":"Generated JWT","type":"string"}}},"401":{"description":"Unauthorized response.","schema":{"$ref":"#/definitions/SigninUnauthorizedResponseBody"}}},"schemes":["http"]}}},"definitions":{"AlsoDoublySecureRequestBody":{"title":"AlsoDoublySecureRequestBody","type":"object","properties":{"token":{"type":"string","description":"JWT used for authentication","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"example":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"DoublySecureRequestBody":{"title":"DoublySecureRequestBody","type":"object","properties":{"token":{"type":"string","description":"JWT used for authentication","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"example":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"SecureRequestBody":{"title":"SecureRequestBody","type":"object","properties":{"token":{"type":"string","description":"JWT used for authentication","example":"Neque accusantium voluptatem alias corrupti."}},"example":{"token":"A non itaque."}},"SigninRequestBody":{"title":"SigninRequestBody","type":"object","properties":{"password":{"type":"string","description":"Username used to perform signin","example":"password"},"username":{"type":"string","description":"Username used to perform signin","example":"user"}},"description":"Credentials used to authenticate to retrieve JWT token","example":{"password":"password","username":"user"}},"SigninUnauthorizedResponseBody":{"title":"SigninUnauthorizedResponseBody","type":"object","properties":{"value":{"type":"string","description":"Credentials are invalid","example":"Possimus ab asperiores quae deleniti molestiae et."}},"example":{"value":"Voluptatum tenetur est."},"required":["value"]}},"externalDocs":{"description":"Security example README","url":"https://github.com/goadesign/plugins/security/tree/master/example/multi_auth/README.md"}}