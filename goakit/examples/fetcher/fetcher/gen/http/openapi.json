{"swagger":"2.0","info":{"title":"The goakit example upstream service","description":"Fetcher is a service that makes GET requests to arbitrary URLs and stores the results in the downstream 'archiver' service.","version":""},"host":"localhost:8081","paths":{"/fetch/{*url}":{"get":{"tags":["fetcher"],"summary":"fetch fetcher","description":"Fetch makes a GET request to the given URL and stores the results in the archiver service which must be running or the request fails","operationId":"fetcher#fetch","parameters":[{"name":"url","in":"path","description":"URL to be fetched","required":true,"type":"string","format":"uri"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/FetchResponseBody"}},"400":{"description":"Bad Request response.","schema":{"$ref":"#/definitions/FetchBadRequestResponseBody"}},"500":{"description":"Internal Server Error response.","schema":{"$ref":"#/definitions/FetchInternalErrorResponseBody"}}},"schemes":["http"]}},"/health":{"get":{"tags":["health"],"summary":"show health","description":"Health check endpoint","operationId":"health#show","responses":{"200":{"description":"OK response.","schema":{"type":"string"}}},"schemes":["http"]}}},"definitions":{"FetchBadRequestResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"bad_request"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"status":{"type":"integer","description":"the HTTP status code applicable to this problem.","example":400,"format":"int64"}},"description":"FetchBadRequestResponseBody result type (default view)","example":{"code":"bad_request","id":"123abc","message":"parameter 'p' must be an integer","status":400},"required":["id","code","status","message"]},"FetchInternalErrorResponseBody":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"bad_request"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"123abc"},"message":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"status":{"type":"integer","description":"the HTTP status code applicable to this problem.","example":400,"format":"int64"}},"description":"FetchInternalErrorResponseBody result type (default view)","example":{"code":"bad_request","id":"123abc","message":"parameter 'p' must be an integer","status":400},"required":["id","code","status","message"]},"FetchResponseBody":{"title":"Mediatype identifier: application/vnd.goa.fetch; view=default","type":"object","properties":{"archive_href":{"type":"string","description":"The href to the corresponding archive in the archiver service","example":"/archive/1","pattern":"^/archive/[0-9]+$"},"status":{"type":"integer","description":"HTTP status code returned by fetched service","example":200,"minimum":0}},"description":"FetchResponseBody result type (default view)","example":{"archive_href":"/archive/1","status":200},"required":["status","archive_href"]}}}